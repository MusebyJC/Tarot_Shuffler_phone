:root{--gold: #ffd36a;--gold2: #ffb200;--gold3: #fff1b0;--goldGlow1: rgba(255, 210, 90, .65);--goldGlow2: rgba(255, 170, 0, .55);--mystic: #9b5cff;--mysticEdge: #3a1871;--mysticGlow1: rgba(155,92,255,.7);--mysticGlow1: rgba(148, 107, 213, .7);--rowH: 48px;--visibleRows: 3;--padRows: 1;--panelW: min(92vw, 320px);--gap: 12px;--highlightOffset: -5px}*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;height:100%;overflow:hidden;background:#0a0a12;color:#fff;-webkit-text-size-adjust:100%;text-size-adjust:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}#app{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center}.picker-screen{width:100vw;height:100dvh;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:4vh 0 3vh;overflow:hidden}.picker-title{font-size:clamp(18px,5vw,26px);margin:0 0 .5vh}.picker-heading{font-size:clamp(22px,7vw,34px);letter-spacing:.6em;margin-left:.6em;color:var(--gold);text-shadow:0 0 15px rgba(255,210,90,.35);margin-bottom:2.2vh}.picker-panel{width:min(92vw,320px);flex:1;min-height:0;display:flex;flex-direction:column;align-items:stretch;gap:1.2vh}.picker-label{text-align:center;font-size:clamp(10px,3.2vw,14px);color:var(--mystic);letter-spacing:.55em;font-weight:800;text-transform:uppercase;text-shadow:0 0 10px var(--mysticGlow),0 0 2px rgba(0,0,0,.85)}:root{--visibleRows: 3;--rowH: clamp(42px, 12.5vw, 56px);--padRows: 1}.wheel-mask{position:relative;width:100%;height:calc(var(--rowH) * var(--visibleRows));overflow:hidden;border-radius:16px;background:#ffffff05}.wheel-mask:before,.wheel-mask:after{content:"";position:absolute;left:0;right:0;height:calc(var(--rowH) * var(--padRows));z-index:2;pointer-events:none}.wheel-mask:before{top:0;background:linear-gradient(to bottom,#0a0a12 0%,transparent 100%)}.wheel-mask:after{bottom:0;background:linear-gradient(to top,#0a0a12 0%,transparent 100%)}.wheel-highlight{position:absolute;top:calc(var(--rowH) * var(--padRows) + var(--highlightOffset));left:1%;right:1%;height:var(--rowH);border-radius:14px;z-index:1;pointer-events:none;border:1.5px solid rgba(212,175,55,.55);background:#d4af3714;box-shadow:0 0 18px #00000059,0 0 14px var(--goldGlow1),0 0 26px var(--goldGlow2),0 0 2px #fff1b08c inset}.wheel-scroll{width:100%;height:100%;overflow-y:auto;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch;scrollbar-width:none}.wheel-scroll::-webkit-scrollbar{display:none}.wheel-pad{height:calc(var(--rowH) * var(--padRows));flex-shrink:0}.wheel-item{height:var(--rowH);display:flex;align-items:center;gap:8px;padding:0 12px;scroll-snap-align:center;cursor:pointer;-webkit-tap-highlight-color:transparent;transition:opacity .14s ease,transform .14s ease;will-change:transform,opacity}.wheel-text,.wheel-num{transform:translateZ(0);-webkit-font-smoothing:antialiased}.wheel-thumb{width:clamp(26px,8vw,34px);height:clamp(26px,8vw,34px);border-radius:8px;object-fit:cover;background:#1a1a2e;flex-shrink:0}.wheel-text{font-size:clamp(12px,3.6vw,16px);font-weight:700;color:#f0e6d0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wheel-item-count{justify-content:center}.wheel-num{font-size:clamp(14px,4.2vw,18px);font-weight:800;color:#f0e6d0}.picker-footer{width:min(92vw,320px);display:flex;gap:12px;align-items:center;justify-content:space-between;padding-top:1.8vh}.btn-start{flex:1;min-height:44px;padding:14px 0;font-size:clamp(14px,4vw,18px);font-weight:900;letter-spacing:.32em;background:linear-gradient(135deg,var(--gold3),var(--gold2));color:#0a0a12;border:none;border-radius:14px;cursor:pointer;-webkit-tap-highlight-color:transparent;box-shadow:0 10px 24px #00000073,0 0 18px #ffd25a59;forced-color-adjust:none}.link-btn{width:48px;min-width:48px;height:44px;border-radius:12px;border:1px solid rgba(155,92,255,.45);background:#9b5cff14;color:var(--mystic);font-weight:900;font-size:18px;cursor:pointer;-webkit-tap-highlight-color:transparent;forced-color-adjust:none}.shuffling{display:flex;align-items:center;justify-content:center;height:100vh;width:100vw}.shuffle-cards{position:relative;width:50vw;height:35vh}.scard{position:absolute;width:18vw;height:28vw;border-radius:2vw;border:1.5px solid #d4af37;background:linear-gradient(135deg,#1a1a2e,#16213e);box-shadow:0 2px 12px #00000080;left:50%;top:50%;transform-origin:center center}.scard:after{content:"✦";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:5vw;color:#d4af3780}.s1{animation:shuffleCard1 .7s ease-in-out 2}.s2{animation:shuffleCard2 .7s ease-in-out 2;animation-delay:.08s}.s3{animation:shuffleCard3 .7s ease-in-out 2;animation-delay:.16s}.s4{animation:shuffleCard4 .7s ease-in-out 2;animation-delay:.24s}.s5{animation:shuffleCard5 .7s ease-in-out 2;animation-delay:.32s}@keyframes shuffleCard1{0%{transform:translate(-50%,-50%) rotate(-12deg) translate(-14vw)}50%{transform:translate(-50%,-50%) rotate(8deg) translate(10vw) translateY(-4vh)}to{transform:translate(-50%,-50%) rotate(-12deg) translate(-14vw)}}@keyframes shuffleCard2{0%{transform:translate(-50%,-50%) rotate(-6deg) translate(-7vw)}50%{transform:translate(-50%,-50%) rotate(12deg) translate(6vw) translateY(-6vh)}to{transform:translate(-50%,-50%) rotate(-6deg) translate(-7vw)}}@keyframes shuffleCard3{0%{transform:translate(-50%,-50%) rotate(0)}50%{transform:translate(-50%,-50%) rotate(0) translateY(-8vh) scale(1.08)}to{transform:translate(-50%,-50%) rotate(0)}}@keyframes shuffleCard4{0%{transform:translate(-50%,-50%) rotate(6deg) translate(7vw)}50%{transform:translate(-50%,-50%) rotate(-12deg) translate(-6vw) translateY(-6vh)}to{transform:translate(-50%,-50%) rotate(6deg) translate(7vw)}}@keyframes shuffleCard5{0%{transform:translate(-50%,-50%) rotate(12deg) translate(14vw)}50%{transform:translate(-50%,-50%) rotate(-8deg) translate(-10vw) translateY(-4vh)}to{transform:translate(-50%,-50%) rotate(12deg) translate(14vw)}}.grid-screen{display:flex;flex-direction:column;align-items:center;height:100vh;width:100vw;padding:1.5vh 2vw 1vh}.grid-header{display:flex;justify-content:space-between;width:100%;padding:0 2vw;margin-bottom:1vh}.grid-status{font-size:3.2vw;color:#d4af37;font-weight:600}.grid-count{font-size:3.2vw;color:#888}.grid-wrap{flex:1;width:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}.grid-wrap::-webkit-scrollbar{display:none}.grid{display:grid;grid-template-columns:repeat(9,1fr);gap:1vw;padding:0 1vw 1vh}.grid-card{aspect-ratio:2/3;border-radius:1.2vw;border:1px solid #d4af37;cursor:pointer;-webkit-tap-highlight-color:transparent;transition:all .2s ease;position:relative;background-color:#111126;background-repeat:no-repeat;background-position:center;background-size:contain}.grid-card:after{content:"✦";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5vw;color:#d4af3766}.grid-card:active{transform:scale(.9)}.grid-card.picked{background:#d4af3733;border-color:#d4af37;box-shadow:0 0 8px #d4af3766;pointer-events:none}.grid-card.picked:after{content:"✓";color:#d4af37;font-size:3vw;font-weight:700}.grid-card.just-picked{animation:pickFlash .4s ease}@keyframes pickFlash{0%{transform:scale(1)}30%{transform:scale(1.15);box-shadow:0 0 14px #d4af3799}to{transform:scale(1)}}.grid-hint{font-size:3vw;color:#666;padding:1vh 0;flex-shrink:0}.spread-screen{display:flex;flex-direction:column;align-items:center;height:100vh;width:100vw;padding:1.5vh 3vw 1vh}.spread-header{width:100%;margin-bottom:1.5vh}.spread-title{font-size:3.2vw;color:#d4af37;font-weight:600;letter-spacing:.3vw}.spread-area::-webkit-scrollbar{display:none}.spread-symbol{font-size:10vw}.spread-label{position:absolute;bottom:.5vh;right:1.5vw;font-size:3vw;color:#e74c3c;font-weight:900;Opacity:.95}.spread-nav{flex-shrink:0;position:sticky;bottom:0;background:#0a0a12;align-content:center}.spread-area{flex:1;width:auto;display:flex;flex-direction:column;gap:2vw}.spread-area.single{justify-content:center;overflow:hidden}.spread-area.scrolling{overflow-y:auto;-webkit-overflow-scrolling:touch;padding-bottom:1vh}.spread-area.scrolling::-webkit-scrollbar{display:none}.spread-row{width:auto;display:grid;gap:2vw;justify-content:center}.spread-row.cols-1{grid-template-columns:minmax(0,1fr);max-width:62vw;margin:0 auto}.spread-row.cols-2{grid-template-columns:repeat(2,minmax(0,1fr));max-width:92vw;margin:0 auto}.spread-row.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.spread-row.cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.spread-card{border-radius:2.5vw;border:5px solid var(--gold);box-shadow:0 0 10px #00000059,0 0 10px var(--goldGlow);overflow:hidden;background:#ffffff08;box-shadow:0 0 10px #d4af371f;position:relative;display:flex;align-items:center;justify-content:center}.spread-card{border:1.5px solid var(--gold);box-shadow:0 0 10px #00000059,0 0 10px var(--goldGlow1),0 0 18px var(--goldGlow2),0 0 2px #fff1b08c inset}.spread-card.reversed{border:1.5px solid var(--mystic);box-shadow:0 0 10px #00000059,0 0 10px var(--mysticGlow),0 0 18px #5d2bff8c,0 0 2px var(--mysticEdge) inset}.spread-img{width:100%;height:auto;max-height:50vh;object-fit:contain;display:block}.spread-area.scrolling .spread-img{max-height:45vh}.spread-card.reversed .spread-img,.spread-card.reversed .spread-symbol{transform:rotate(180deg)}.spread-label{position:absolute;bottom:.6vh;right:1.6vw;font-size:3.1vw;font-weight:900;opacity:.95}.spread-card.reversed .spread-label{color:var(--mystic);text-shadow:0 0 2px rgba(0,0,0,.9),0 0 6px var(--mysticEdge),0 0 16px var(--mysticGlow1),0 0 28px rgba(93,43,255,.55)}.spread-nav{flex-shrink:0;position:sticky;bottom:0;background:#0a0a12;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1vh;width:100%;padding:1vh 0 1.5vh}.link-btn{background:none;border:none;color:#888;font-size:3vw;cursor:pointer;-webkit-tap-highlight-color:transparent;padding:1vw 2vw;min-height:44px;display:flex;align-items:center}.link-btn:active{color:#d4af37}.card-view{display:flex;flex-direction:column;align-items:center;height:100vh;width:100vw;padding:1.5vh 4vw 1vh}.card-header{display:flex;justify-content:space-between;width:100%;font-size:3vw;color:#666;margin-bottom:1vh}.card-count{color:#d4af37;font-weight:600}.card-type{color:#888;font-style:italic}.card-frame{width:min(25vw,420px);aspect-ratio:4 / 9;height:auto;max-height:60vh;border-radius:3vw;border:1.5px solid var(--gold);box-shadow:0 0 10px #00000059,0 0 10px var(--goldGlow1),0 0 18px var(--goldGlow2),0 0 2px #fff1b08c inset;overflow:hidden;background:#0a0a12;display:flex;align-items:center;justify-content:center;flex-shrink:0}.card-frame.up{border-color:var(--gold);box-shadow:0 0 20px #00000059,0 0 14px var(--goldGlow1),0 0 26px var(--goldGlow2),0 0 2px #fff1b08c inset}.card-frame.rev{border-color:var(--mystic);box-shadow:0 0 20px #00000059,0 0 16px var(--mysticGlow1),0 0 32px #5d2bff8c,0 0 3px var(--mysticEdge) inset}.card-img-wrap{width:100%;height:100%;display:flex;align-items:center;justify-content:center;transition:transform .3s ease}.card-img-wrap.reversed{transform:rotate(180deg)}.card-img{width:100%;height:100%;object-fit:cover;display:block}.card-symbol-wrap{display:flex;align-items:center;justify-content:center;width:100%;height:100%;transition:transform .3s ease}.card-symbol-wrap.reversed{transform:rotate(180deg)}.card-big-symbol{font-size:20vw;filter:drop-shadow(0 0 10px rgba(212,175,55,.3))}.card-fallback{font-size:4.5vw;color:#d4af37;text-align:center;padding:4vw;font-weight:600;line-height:2}.card-info{display:flex;flex-direction:column;align-items:center;gap:1vh;margin-top:1vh;flex-shrink:0}.card-name{font-size:4.5vw;font-weight:600;text-align:center;color:#f0e6d0;text-shadow:0 1px 4px rgba(0,0,0,.5);line-height:1.2}.card-orientation{font-size:2vw;font-weight:800;letter-spacing:.2vw;padding:.6vw 2vw;border-radius:4vw;border:1px solid transparent}.card-orientation.up{color:var(--gold);border:1.5px solid var(--gold);box-shadow:0 0 20px #00000059,0 0 14px var(--goldGlow1),0 0 26px var(--goldGlow2),0 0 2px #fff1b08c inset;text-shadow:0 0 2px rgba(0,0,0,.85),0 0 8px var(--goldGlow1);background:#d4af371a;border-color:#d4af378c}.card-orientation.rev{color:var(--mystic);background:#9b5cff1f;border:1.5px solid rgba(155,92,255,.65);box-shadow:0 0 20px #00000059,0 0 14px var(--mysticEdge),0 0 26px var(--mysticGlow2),0 0 2px #9d03958c inset;text-shadow:0 0 2px rgba(77,0,68,.85),0 0 8px var(--mysticGlow1)}.card-nav{display:flex;align-items:center;justify-content:center;gap:4vw;margin-top:auto;padding-bottom:1.5vh;width:100%;flex-shrink:0}.nav-btn{min-width:30px;min-height:30px;width:10vw;height:10vw;border-radius:50%;border:3px solid #444;background:#1a1a2e;color:#d4af37;font-size:8vw;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-tap-highlight-color:transparent;padding:0}.nav-btn.up{font-size:5.5vw;color:var(--gold)}.nav-btn.rev{font-size:5.5vw;color:var(--mystic)}.nav-btn.rev:active{font-size:7vw;background:var(--mystic);transform:scale(.92)}.nav-btn:disabled{font-size:5.5vw;opacity:.25;pointer-events:none}.nav-btn.rev.reshuffle{font-size:5.5vw;border-color:#9b5cffa6;box-shadow:0 0 20px #00000059,0 0 16px var(--mysticGlow1),0 0 32px #5d2bff8c,0 0 3px var(--mysticEdge) inset;background:#d4af371a}.nav-btn.up.reshuffle{font-size:5.5vw;border-color:#d4af37;box-shadow:0 0 20px #00000059,0 0 14px var(--goldGlow1),0 0 26px var(--goldGlow2),0 0 2px #fff1b08c inset;background:#d4af371a}.nav-btn.reshuffle:active{background:#d4af3740}.nav-btn.home-btn{font-size:6vw;border-color:#666;align-items:center;display:flex}@media (max-height: 520px),(max-width: 420px){.picker-screen{padding:1.5vh 3vw 1.5vh}.picker-title{font-size:6vw;margin-bottom:.2vh}.picker-heading{font-size:6vw;letter-spacing:3vw;margin-bottom:1vh}.picker-cols{flex:1;min-height:0}.picker-col{min-height:0}.wheel-mask{height:min(240px,40vh)}.btn-start{margin-top:auto;margin-bottom:max(1vh,env(safe-area-inset-bottom));padding:2.2vw 10vw;font-size:4vw}}.link-btn,.btn-view-spread,.view-spread-btn,.btn-start{flex:0 0 auto;align-self:center;width:auto;max-width:min(92vw,420px);padding:clamp(10px,1.6vh,14px) clamp(16px,4vw,26px);font-size:clamp(14px,3.6vw,18px);line-height:1.1}.grid-nav,.spread-nav{padding-left:3vw;padding-right:3vw}.picker-footer{width:min(92vw,320px);display:flex;align-items:center;gap:12px}.picker-footer .btn-start{flex:1 1 auto!important;width:100%!important;align-self:stretch!important;margin:0!important;text-align:center}.card-nav .nav-btn{width:clamp(44px,12vw,64px);height:clamp(44px,12vw,64px);min-width:44px;min-height:44px;font-size:clamp(18px,6vw,30px);line-height:1}@media (max-height: 520px),(max-width: 420px){.picker-footer .btn-start{min-height:48px;font-size:clamp(16px,4.6vw,20px);padding:12px 0}.card-nav .nav-btn{font-size:clamp(20px,7vw,32px)}}
